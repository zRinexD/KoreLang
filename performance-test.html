<!DOCTYPE html>
<html>
<head>
    <title>KoreLang Performance Test</title>
    <style>
        body {
            font-family: monospace;
            padding: 20px;
            background: #1a1a1a;
            color: #00ff00;
        }
        .metric {
            margin: 10px 0;
            padding: 10px;
            background: #2a2a2a;
            border-left: 3px solid #00ff00;
        }
        .result {
            color: #ffff00;
            font-weight: bold;
        }
        button {
            padding: 10px 20px;
            margin: 10px;
            background: #00ff00;
            border: none;
            cursor: pointer;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <h1>ðŸš€ KoreLang Performance Monitor</h1>
    <div id="metrics"></div>
    <button onclick="location.reload()">Reload App</button>
    <button onclick="clearMetrics()">Clear Metrics</button>
    
    <script>
        const metrics = [];
        
        // Intercepter les renders React
        if (window.performance) {
            const observer = new PerformanceObserver((list) => {
                for (const entry of list.getEntries()) {
                    if (entry.entryType === 'measure') {
                        displayMetric(entry.name, entry.duration);
                    }
                }
            });
            observer.observe({ entryTypes: ['measure'] });
        }
        
        function displayMetric(name, duration) {
            const metricsDiv = document.getElementById('metrics');
            const metricEl = document.createElement('div');
            metricEl.className = 'metric';
            metricEl.innerHTML = `
                <strong>${name}</strong><br>
                Duration: <span class="result">${duration.toFixed(2)}ms</span>
            `;
            metricsDiv.insertBefore(metricEl, metricsDiv.firstChild);
            metrics.push({ name, duration, timestamp: Date.now() });
        }
        
        function clearMetrics() {
            document.getElementById('metrics').innerHTML = '';
            metrics.length = 0;
        }
        
        // Mesurer le temps de chargement initial
        window.addEventListener('load', () => {
            const loadTime = performance.timing.loadEventEnd - performance.timing.navigationStart;
            displayMetric('Initial Load Time', loadTime);
        });
        
        console.log('Performance monitoring active. Use React DevTools Profiler for detailed analysis.');
    </script>
</body>
</html>
